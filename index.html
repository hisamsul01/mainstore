<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gudang Material Dashboard</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body, html {
            font-family: 'Nunito', sans-serif;
            background-color: #f8f9fa;
            color: #444;
            height: 100vh;
        }
        a {text-decoration: none; color: inherit;}
        
        /* Sidebar */
        .sidebar {
            background-color: #4e73df;
            width: 250px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            color: #fff;
            display: flex;
            flex-direction: column;
            padding: 20px 0;
            transition: width 0.3s ease;
            overflow-y: auto;
        }
        .sidebar.collapsed {width: 60px;}
        .logo {
            font-weight: 700;
            font-size: 22px;
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(255,255,255,0.15);
            padding-bottom: 15px;
        }
        .sidebar.collapsed .logo {font-size: 0;}
        .profile {
            text-align: center;
            margin-bottom: 20px;
            padding: 0 15px;
        }
        .profile img {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            border: 2px solid #fff;
            margin-bottom: 8px;
        }
        .profile h4, .profile span {transition: opacity 0.3s ease;}
        .sidebar.collapsed .profile h4,
        .sidebar.collapsed .profile span {opacity: 0;}

        .nav-links {flex-grow: 1;}
        .nav-links ul {list-style: none;}
        .nav-links li {
            position: relative;
            margin-bottom: 10px;
        }
        .nav-links a {
            color: #d1d3e2;
            padding: 10px 15px;
            display: block;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }
        .nav-links a:hover, .nav-links a.active {
            background-color: #2e59d9;
            color: #fff;
        }

        /* Submenu */
        .submenu {
            display: none;
            padding-left: 20px;
            margin-top: 5px;
        }
        .submenu li a {
            font-size: 14px;
            color: #d1d3e2;
        }
        .submenu li a:hover {
            color: #fff;
        }
        .nav-links li.open .submenu {
            display: block;
            animation: slideDown 0.3s ease;
        }
        @keyframes slideDown {
            from {opacity: 0; transform: translateY(-5px);}
            to {opacity: 1; transform: translateY(0);}
        }

        /* Main Content */
        .main-content {
            margin-left: 250px;
            padding: 20px 30px;
            transition: margin-left 0.3s ease;
        }
        .sidebar.collapsed ~ .main-content {margin-left: 60px;}
        .header {
            color: #4e73df;
            font-weight: 700;
            font-size: 28px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .toggle-btn {
            background: #4e73df;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            font-size: 14px;
        }

        /* Cards */
        .cards {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        .card {
            flex: 1 1 180px;
            background-color: #f8f9fc;
            border-left: 4px solid #4e73df;
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 2px 7px rgba(0,0,0,0.03);
        }
        .card.orange {border-color: #f6c23e;}
        .card.green {border-color: #1cc88a;}
        .card.blue {border-color: #36b9cc;}
        .card .title {font-size: 13px; font-weight: 600; color: #858796; margin-bottom: 7px;}
        .card .value {font-weight: 700; font-size: 22px; color: #4e73df;}

        /* Table */
        .table-wrapper {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
            padding: 25px 30px;
            overflow-x: auto;
        }
        .table-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .search-box {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 220px;
        }
        .filter-select {
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        table {width: 100%; border-collapse: collapse; font-size: 14px;}
        thead {background-color: #f8f9fc;}
        thead th {padding: 12px 15px; text-align: left; font-weight: 600; color: #4e73df;}
        tbody td {padding: 12px 15px;}
        tbody tr:hover {background-color: #f1f3f5; cursor: pointer;}
        tbody tr.selected {background-color: #dbeafe;}

        .status-badge {
            padding: 4px 12px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 12px;
            text-align: center;
            display: inline-block;
        }
        .status-danger {background-color: #e74a3b; color: white;}
        .status-warning {background-color: #f6c23e; color: white;}
        .status-success {background-color: #1cc88a; color: white;}
    </style>
</head>
<body>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">Gudang Material</div>
        <div class="profile">
            <img src="https://i.pravatar.cc/55" alt="Avatar" />
            <h4>Andre Setiawan</h4>
            <span>Administrator</span>
        </div>
        <nav class="nav-links">
            <ul>
                <li><a href="#" class="active">Dashboard</a></li>
                <li>
                    <a class="has-submenu">Master Data ▾</a>
                    <ul class="submenu">
                        <li><a href="#">Data Barang</a></li>
                        <li><a href="#">Kategori Barang</a></li>
                        <li><a href="#">Supplier</a></li>
                    </ul>
                </li>
                <li>
                    <a class="has-submenu">Transaksi ▾</a>
                    <ul class="submenu">
                        <li><a href="#">Barang Masuk</a></li>
                        <li><a href="#">Barang Keluar</a></li>
                    </ul>
                </li>
                <li><a href="#">Laporan</a></li>
                <li><a href="#">Pengaturan</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main -->
    <main class="main-content">
        <header class="header">
            <h1>Dashboard</h1>
            <button class="toggle-btn" onclick="toggleSidebar()">☰ Menu</button>
        </header>

        <!-- Cards -->
        <section class="cards">
            <div class="card"><div class="title">Data Gudang</div><div class="value">10</div></div>
            <div class="card green"><div class="title">Data Barang Masuk</div><div class="value">11</div></div>
            <div class="card orange"><div class="title">Data Barang Keluar</div><div class="value">14</div></div>
            <div class="card blue"><div class="title">Data Kategori Barang</div><div class="value">14</div></div>
            <div class="card blue"><div class="title">Data Supplier</div><div class="value">10</div></div>
            <div class="card green"><div class="title">Profil</div><div class="value">3</div></div>
        </section>

        <!-- Table -->
        <section class="table-wrapper">
            <div class="table-header">
                <input type="text" class="search-box" id="searchInput" placeholder="Cari barang...">
                <select class="filter-select" id="filterStok">
                    <option value="all">Semua Barang</option>
                    <option value="safe">Stok Aman</option>
                    <option value="low">Stok Menipis</option>
                    <option value="critical">Stok Kritis</option>
                </select>
            </div>
            <table id="stockTable">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>ID Barang</th>
                        <th>Nama Barang</th>
                        <th>Jenis Barang</th>
                        <th>Stok</th>
                        <th>Satuan</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>10001</td>
                        <td>Cat tembok 10L</td>
                        <td>Material</td>
                        <td><span class="status-badge status-danger">5</span></td>
                        <td>Liter</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>10003</td>
                        <td>Amplas Cat</td>
                        <td>Bahan Kimia Penghilang</td>
                        <td><span class="status-badge status-warning">7</span></td>
                        <td>Liter</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>10005</td>
                        <td>Thinner 5L</td>
                        <td>Bahan Kimia</td>
                        <td><span class="status-badge status-success">25</span></td>
                        <td>Liter</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <script>
        // Toggle Sidebar
        function toggleSidebar() {
            document.querySelector(".sidebar").classList.toggle("collapsed");
        }

        // Submenu Dropdown
        document.querySelectorAll(".has-submenu").forEach(menu => {
            menu.addEventListener("click", function() {
                this.parentElement.classList.toggle("open");
            });
        });

        // Search & Filter Functionality
        const searchInput = document.getElementById("searchInput");
        const filterStok = document.getElementById("filterStok");
        const rows = document.querySelectorAll("#stockTable tbody tr");

        function filterTable() {
            const search = searchInput.value.toLowerCase();
            const filter = filterStok.value;

            rows.forEach(row => {
                const nama = row.cells[2].textContent.toLowerCase();
                const id = row.cells[1].textContent.toLowerCase();
                const stok = parseInt(row.cells[4].textContent);

                let stokCondition = true;
                if (filter === "safe") stokCondition = stok >= 15;
                else if (filter === "low") stokCondition = stok >= 6 && stok < 15;
                else if (filter === "critical") stokCondition = stok <= 5;

                const matchesSearch = nama.includes(search) || id.includes(search);
                row.style.display = matchesSearch && stokCondition ? "" : "none";
            });
        }

        searchInput.addEventListener("input", filterTable);
        filterStok.addEventListener("change", filterTable);

        // Row Click Highlight
        rows.forEach(row => {
            row.addEventListener("click", () => {
                rows.forEach(r => r.classList.remove("selected"));
                row.classList.add("selected");
            });
        });
    </script>
</body>
</html>